@model Domain.Entities.Photo

@{
    ViewBag.Title = "Edit Photo";
    Layout = "~/Views/Shared/_Nav.cshtml";
    
}

<center><h2>Работа с фото</h2></center>
<div class="form-horizontal">
    @using (Html.BeginForm("Edit", "Photo",
    FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.ValidationSummary()
        @Html.EditorFor(x => x.PhotoID, new { @class = "form-control" })
        @Html.EditorFor(x => x.UserID, new { @class = "form-control" })
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Название фото</label>
            <div class="col-sm-10">
                @Html.TextBoxFor(x => x.Name, new { @class = "form-control" })
            </div>
        </div>
               <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Название альбома</label>
            <div class="col-sm-10">
                @Html.TextBoxFor(x => x.Albom, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Описание</label>
            <div class="col-sm-10">
                @Html.TextAreaFor(x => x.Description, new { @class = "form-control" })
                @Html.HiddenFor(x=>x.ImageMimeType)
                @Html.HiddenFor(x=>x.ImageData)
            </div>
        </div>
        if(Model.ImageData!=null)
        {
        @Html.Raw("<img width=\"150\" height=\"150\" class=\"img-responsive\" src=\"data:image/jpeg;base64,"
                                        + Convert.ToBase64String(Model.ImageData) + "\" />")
        }
      
            <div class="form-group">
            <label  class="col-sm-2 control-label">Фото</label>
             <div class="col-sm-10">
                 <input type="file" name="Image" />
            </div>
         </div>
        <input type="submit" value="Save" />

    }
</div>